name: Semantic Release

on:
    push:
        branches: [ master, 1.x ]

jobs:
    release:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v2
            with:
              node-version: '14'
          - name: Semantic Release
            uses: cycjimmy/semantic-release-action@v2
            with:
                extra_plugins: |
                    @semantic-release/changelog
                    @semantic-release/git
                semantic_version: 18
                branches: |
                  [
                    'master', 
                    '1.x'
                  ]
            env:
              GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
